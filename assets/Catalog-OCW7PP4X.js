import{c as p,R as h,j as e,m as o,r as f,A as j}from"./index-D0WaRb9D.js";const y=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],u=p("star",y),g=({categories:s,activeCategory:t,onCategoryChange:r})=>{const i=h.useRef([]),c=(a,l)=>{if(a.key==="ArrowRight"){const n=(l+1)%s.length;i.current[n].focus()}else if(a.key==="ArrowLeft"){const n=(l-1+s.length)%s.length;i.current[n].focus()}else a.key==="Home"?i.current[0].focus():a.key==="End"&&i.current[s.length-1].focus()};return e.jsx("div",{className:"pill-row",role:"tablist",children:s.map((a,l)=>e.jsx("button",{id:`tab-${a}`,ref:n=>i.current[l]=n,role:"tab","aria-selected":t===a,"aria-controls":`tabpanel-${a}`,tabIndex:t===a?0:-1,className:`pill ${t===a?"pill-on":"pill-off"}`,onClick:()=>r(a),onKeyDown:n=>c(n,l),children:a},a))})},w=({product:s})=>{const t={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.3,ease:[.16,1,.3,1]}}};return e.jsxs(o.div,{layout:!0,variants:t,className:"card",whileHover:{y:-4,boxShadow:"0 12px 32px -8px rgba(0, 0, 0, 0.08)"},children:[e.jsxs("div",{className:"card-top",children:[e.jsx("span",{className:"card-cat",children:s.category}),e.jsxs("div",{className:"card-rating",children:[e.jsx(u,{size:10,fill:"currentColor",strokeWidth:0}),e.jsx("span",{children:s.rating})]})]}),e.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",minHeight:120},children:e.jsx("picture",{children:e.jsx("img",{src:s.image||"/vite.svg",srcSet:s.imageSmall?`${s.imageSmall} 320w, ${s.image} 640w`:void 0,sizes:"(max-width: 640px) 100vw, 320px",alt:s.name,loading:"lazy",width:160,height:160,style:{objectFit:"cover",width:120,height:120,borderRadius:12,background:"#f5f5f7"}})})}),e.jsxs("div",{className:"card-content",children:[e.jsx("h3",{className:"card-name",children:s.name}),e.jsx("p",{className:"card-desc",children:s.desc})]}),e.jsx("div",{className:"card-actions",children:e.jsx("span",{className:"card-price",style:{fontSize:"15px"},children:"Best Market Price"})})]})},N=({products:s})=>{const t={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}};return e.jsx(o.div,{className:"grid",variants:t,initial:"hidden",animate:"show",children:s.map(r=>e.jsx(w,{product:r},r.id))})},v=h.forwardRef(({categories:s,activeCategory:t,onCategoryChange:r,filteredProducts:i},c)=>{const a=f.useRef(null),l=c||a,n=m=>{r(m),setTimeout(()=>{const d=l.current;if(d){const x=d.getBoundingClientRect().top+window.scrollY+-80;window.scrollTo({top:x,behavior:"smooth"})}},60)};return e.jsxs("section",{id:"catalog",ref:l,children:[e.jsxs("div",{className:"catalog-sticky-bar",children:[e.jsxs("div",{className:"cat-header-row",children:[e.jsx("h2",{className:"cat-title",children:t==="All"?"Featured Products":t}),e.jsx("span",{className:"cat-count",children:t==="All"?"Best pick per category":`${i.length} items`})]}),e.jsx(g,{categories:s,activeCategory:t,onCategoryChange:n})]}),e.jsx(j,{mode:"wait",children:e.jsx(o.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,y:16},transition:{duration:.22,ease:[.16,1,.3,1]},className:"grid-wrap",children:e.jsx(N,{products:i})},t)})]})});v.displayName="Catalog";export{v as default};
